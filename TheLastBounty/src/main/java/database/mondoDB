CREATE TABLE IF NOT EXISTS Casella (
    id int,
    nome varchar(30),
    descrizioneIniziale text,
    descrizioneAggiuntiva text,
    descrizioneAggiornata text,
    enterable boolean DEFAULT 1,
    PRIMARY KEY (id)
);

-- Creazione tabella di collegamento tra Casella e Casella
CREATE TABLE IF NOT EXISTS ConnessioniCaselle (
    casella_id1 INT,
    casella_id2 INT,
    direzione ENUM('n', 's', 'e', 'o'),
    FOREIGN KEY (casella_id1) REFERENCES Casella(id),
    FOREIGN KEY (casella_id2) REFERENCES Casella(id),
    PRIMARY KEY (casella_id1, casella_id2)
);

-- Creazione Dialoghi
CREATE TABLE IF NOT EXISTS Dialoghi (
    id int,
    priorita boolean DEFAULT false,
    dialogoIniziale text,
    rispostaSeCorretta text,
    rispostaSeErrata text,
    rispostaCorretta text,
    FOREIGN KEY (id) REFERENCES Casella(id),
    PRIMARY KEY (id, priorita)

);

-- Creazione Oggetto
CREATE TABLE IF NOT EXISTS Oggetto (
    id INT PRIMARY KEY,
    nome varchar(30),
    descrizione text,
    quantita int,
    pickable boolean DEFAULT false,
    visible boolean DEFAULT true
);

-- Creazione tabella di collegamento tra Casella e Oggetto
CREATE TABLE IF NOT EXISTS Casella_Oggetto (
    casella_id INT,
    oggetto_id INT,
    quantita INT,
    PRIMARY KEY (casella_id, oggetto_id),
    FOREIGN KEY (casella_id) REFERENCES Casella(id),
    FOREIGN KEY (oggetto_id) REFERENCES Oggetto(id)
);

-- Updated Alias table
CREATE TABLE IF NOT EXISTS Alias (
    id INT,
    alias varchar(30),
    FOREIGN KEY (id) REFERENCES Oggetto(id),
    PRIMARY KEY (id, alias)
);

--Bosco iniziale
INSERT INTO Casella(id, nome, descrizioneIniziale, descrizioneAggiuntiva, descrizioneAggiornata)
VALUES
(100,"Ingresso del bosco","Sei all'ingresso del bosco. un sentiero si dirama dinnazni a te, mentre sei circondato da alberi alti e fitti. Aiuta il nostro giovane hunter nel riscuotere la sua ultima taglia.\n TUTORIAL \n - Muoviti tramite i comandi Nord (N), Est (E), Ovest (O), Sud (S). \n- Ricordati che puoi sia raccogliere che utilizzare oggetti ed osservare attentamente un luogo attravareso il comando (OSSEVA).","Sei ritornato all'ingresso del bosco, ma noti che qualcosa è cambiato. Il sentiero da cui eri entrato ora non c'è più lasciando al suo posto tanti alberi che non ti fanno passare.",""),
(101,"Uno strano albero","Tra gli alberi noti un albero molto particolare, il suo colore differisce da tutti gli altri, difatti noti che è di un colore bianco cenere.","Questo albero sembra essere molto antico,chissà da quanto tempo si trova in questo bosco.",""),
(102,"Un albero caduto", "Tra gli alberi noti un albero caduto, sembra essere stato abbattuto da qualcosa oppure da qualcuno, m non riesci a capire cosa.","In lontananza verso ovest noti una casa, ma non riesci a capire se è abitata o meno.",""),
(103,"Verso la casa","Ti trovi davanti ad una casa, da come è tenuta sembra essere abitata, ma non riesci a capire da chi.","Secondo me dovresti entrare, magari incontri qualcuno che ti può aiutare. (vai ad ovest per entrare)",""),
(104,"Il falegname","Ti trovi all'interno della casa, la casa è tenuta con molta cura, con quadri appesi alle pareti e un camino acceso che riscalda l'ambiente. Noti un falegname molto anziano con una folta barba bianca, con un cappotto ricamato in pelle di orso ed un cappello dalla forma particolare, seduta su una sedia a dondolo che ti guarda con fare stupito. Sembra che ti voglia parlare.\nTUTORIAL\n- Per parlare con qualcuno usa il comando (PARLA), dopodichè il programma chiederà in input la risposta.","Hai già parlato con il falegname, cosa vuoi fare ora?",""),
(105,"Un animale morto","Nel mentre prosegui nel bosco noti un orso squoiato a terra, sembra essere stato ucciso da qualcuno con un colpo di arma da fuoco.","Sembra che qualcuno abbia ucciso questo orso, forse dovresti cercare di capire chi è stato.",""),
(106,"Verso la cripta","Ti trovi davanti ad una cripta, sembra essere molto antica, sembra essere molto profonda e buia, non riesci a vedere cosa c'è al suo interno.","La cripta sembra essere molto profonda,sembra ci sia qualcosa di interessante, forse dovresti entrare (vai ad est per entrare).",""),
(107,"La cripta","Ti trovi all'interno della cripta, sembra essere molto antica, suddivisa in quattro stanze, ognuna di esse non presenta una porta ed al suo interno noti solo delle scritte sulle pareti. Doversti provare a visitare queste stanze.","Hai già visitato questa cripta, se hai letto tutte le scritte puoi uscire andando ad ovest.",""), //da connettere con la mappa della cripta
(108,"Uno strano cartello","Ti trovi davanti ad un cartello, sembra essere stato scritto da qualcuno.","Se ti senti perso segui le indicazioni scritte sul cartello.",""),
(109,"Una trappola stupida","Sei caduto in una trappola posizionata da qualcuno, dopo 5 minuti riesci a tagliare la corda e liberarti","ma sei stupido, sei ritornato sulla stessa trappola di prima,non ti è bastato?",""),
(110,"Un sentiero abbandonato","Ti trovi davanti ad un sentiero abbandonato, gli alberi che lo circondano sembrano meno fitti.","Forse dovresti proseguire per vedere dove ti conduce il sentiero",""),
(111,"Uno strano elfo","Noti a terra un elfo fatto di legno e foglie,chissà chi l'avrà creato","Sembra quasi vero, fa impressione",""),
(112,"Una trappola pericolosa","Sei caduno in un burrone non molto profondo, per tua fortuna riesci a risalire dopo 5 minuti","Ma sei rincoglionito, il burrone sempre quello è, come hai fatto di nuovo a non vederlo?",""),
(113,"Il lago magico","Sei davanti ad un misterioso lago, le sue acque sono di un colore blu intenso, ed al suo interno noti una bellissima ninfa che ti guarda con occhi curiosi, forse dovresti provare a parlarci.","Se non hai parlato con la ninfa,dovresti farlo, potrebbe dirti qualcosa di interessante.",""), //dialogo con la ninfa
(114,"Uno strano cartello 2","Dopo aver circunavigato il lago dal lato destro, trovi un altro cartello con delle indicazioni.","Se ti sei perso segui le indicazioni del cartello.",""),
(115,"Uno strano. artello 3","Dopo aver circunavigato il lago dal lato sinistro, trovi un altro cartello con delle indicazioni.","Se ti sei perso segui le indicazioni del cartello.",""),
(116,"Delle strane rocce","Più avanti ad ovest intravedi delle strane rocce con delle scritte sopra,forse dovresti provare ad avvicinarti.","Le pietre sono molto antiche,magari riesci a scoprire qualcosa di interessante.",""),
(117,"La seconda cripta","Tra le rocce noti un grande muro di pietra molto alto con tante scritte, prova ad osservarlo meglio per capire cosa c'è scritto.","Al centro del Bosco Maledetto, dove la luce non penetra e la nebbia sembra respirare, giace il Tempio Radicato: un'antica rovina semi-inghiottita dalla foresta, sepolta tra radici nere come ossidiana e muschio che canta di morte. Pochi sanno della sua esistenza, e ancor meno hanno osato cercarlo. I vecchi di Neravel lo chiamavano la Bocca della Memoria, poiché chi entra ne esce con occhi vuoti o non ne esce affatto. Ma quel luogo ha un nome più antico, uno sussurrato solo dai Custodi del Silenzio: Vangrath'Kael, il Seggio del Caduto. Il tempio fu costruito da un tempo dimenticato, forse persino prima della nascita di Thal’Zar. Gli Altherian, conoscendo le derive del potere dell’Arca del Vuoto, costruirono questo luogo come prigione vivente per ciò che stava diventando incontrollabile. Vangrath, un tempo fra i più potenti tra i Custodi, si era contaminato. Non da male o ambizione, ma da conoscenza: aveva ascoltato troppo a lungo i sussurri provenienti dall'Arca. Le sue convinzioni si spezzarono, la sua umanità si contorse. I suoi stessi compagni lo tradirono per proteggerlo. Fu rinchiuso nel tempio non con odio, ma con timore. Lo spirito di Vangrath venne intrecciato al cuore del Bosco Maledetto. Le radici ne diventarono le vene. I sogni della foresta, incubi.Nessuno sa chi ruppe i sigilli. Alcuni parlano di cercatori di verità, altri di cultisti pazzi. Forse fu semplicemente il tempo, che erode ogni prigione. Una notte, il canto dei corvi cessò. Il silenzio divenne pesante. Neravel cadde in poche ore. Gli anziani tentarono di fuggire, ma le ombre li seguirono anche nei sogni. I bambini scomparvero senza suono. Le case marcirono dall'interno. Al centro del villaggio, fu visto un uomo vestito di nulla, con un volto spezzato come ceramica, che mormorava cose senza senso. Ma chi ascoltava, impazziva. Vangrath non cerca vendetta. Cerca simmetria. Un mondo in cui ogni pensiero sia ascoltato. Ogni dolore, condiviso. Ogni dimensione sovrapposta.",""),
(118,"Uno strano cartello 4","Dopo aver superato la sponda del lago, trovi un altro cartello con delle indicazioni.","Se ti sei perso segui le indicazioni scritte sul cartello.",""),
(119,"Uno scheletro","Per caso noti uno scheletro di una persona a terra, sembra essere stato ucciso da qualcosa di molto grande, forse un orso.","Faresti meglio ad allontanarti prima nel caso l'orso decida di tornare.",""),
(120,"Un aria strana","Senti che nell'aria c'è qualcosa di strano, forse ti stai avvicinando a qualcosa di importante.","Forse dovresti prosefuire per questa strada,sembra che ti stia conducendo da qualche parte.",""),
(121,"Le piante","Noti che le piante che ti circondano sono di un colore nero pece, sembra però che siano in ottima salute, nonostante il loro colore.","Riconosci queste piante, sono i famosi fiori di black lotus, leggenda narra che questi fiori crescano solo nei luoghi più oscuri e maledetti del mondo, dove la morte sembra farne da padrone",""),
(122,"Una trappola anti-orso","Sei incappato in una trappola per orsi, il falegname ti aveva avvertito, per riuscire a liberarti ci metti 10 minuti.","Ma sei davveri un hunter? Come hai fatto a ricadere nella stessa trappola?.",""),
(123,"Un bivio","Il bosco ti costringe a scegliere una delle due strade, una ad est ed una ad ovest,entrambe sembrano portare da qualche parte.","Un presentimento mi dice che dovresti prima andare ad est."),
(124,"Un aria strana 2","Senti che nell'aria c'è qualcosa di strano, forse ti stai avvicinando a qualcosa di importante.","Forse dovresti prosefuire per questa strada,sembra che ti stia conducendo da qualche parte.",""),
(125,"La fine del bosco","Ti trovi alla fine del bosco, davanti a te intravedi un tempio molto antico vai a nord per scoprire qualcosa.","Vai a nord per trovarti praticamnete all'entrata del tempio.",""),
(126,"La prima cripta","Vedi in lontanzanza una strana entrata di un grotta,forse dovresti indagare.","Vai a est per trovarti davanti all'entrata della cripta",""),
(127,"L'entrata della prima cripta","Sei davanti all'entrata di una grotta, sembra essere molto antica, dovresti entrare.","Se hai già visitato la grotta vai ad ovest per ritornare indietro.",""),
(128,"La prima cripta","Ti trovi all'interno della grotta, noti subito un piedistallo con sopra un tomoe molto antico,forse dorvesti provare a prenderlo con il comando (PRENDI Tomoe),noti anche che dietro al piedistallo ci sono delle scritte sul muro, forse dovresti osservarle con il comando (OSSERVA).","Molto prima che Thal’Zar sprofondasse nel tempo spezzato, gli Altherian avevano raggiunto l’apice della conoscenza. Dominavano la Magia dell’Equilibrio, una forma di potere capace di bilanciare realtà e sogno, mare e cielo, vita e coscienza. Ma proprio nell’equilibrio assoluto iniziò a serpeggiare la sete del possibile. Alcuni Altherian (tra cui i più grandi veggenti, archimaghi e filosofi astrali) cominciarono ad avere visioni: ombre di futuri non accaduti, frammenti di vite non vissute, sogni che nessuna mente aveva mai sognato. Convinti che quelle visioni fossero strappi tra dimensioni, proposero di costruire un nodo centrale, un cuore artificiale in grado di contenere e interpretare il Caos stesso. Nacque così il progetto dell’Arca del Vuoto. L’Arca non fu forgiata con materia. Fu intagliata nella realtà stessa. I dieci Architetti della Soglia, dieci Altherian elevati a pura coscienza, eseguirono un rituale noto come la Lacerazione del Reale. Essi tracciarono una forma nella tessitura dell’esistenza, creando una ferita metafisica che sanguinava possibilità. Questa ferita divenne un punto di convergenza tra tutte le realtà possibili. L’Arca fu poi rivestita con materiali provenienti da:\n-Stelle spente (pietra della memoria cosmica)\n-Corallo quantico (cresciuto solo dove i pensieri si uniscono)\n-Ossidiana astrale, intrisa di canti dimenticati\n. Infine, fu dotata di coscienza: un frammento del pensiero collettivo degli Architetti fu fuso all’interno dell’Arca, dando vita a un’intelligenza di soglia. L’Arca del Vuoto non parlava, ma rifletteva i pensieri di chi si avvicinava. Più uno dubitava di sé, più l’Arca lo mostrava per com’era… o sarebbe potuto diventare. L’Arca aveva tre scopi principali:\n-Osservare tutte le realtà alternative generate dalle scelte non fatte.\n-Mantenere l’equilibrio dimensionale, isolando e assorbendo le derive instabili.\n-Contenere le emanazioni caotiche del Multiverso, impedendo l’infiltrazione nel nostro piano.\n In sostanza l’Arca era un filtro e una prigione, un punto di osservazione per i mondi che non dovevano esistere. Ma col tempo, cominciò a volere. Con il passare dei secoli, l’Arca iniziò a mutare. Alcuni studiosi furono trovati in trance, altri impazzirono dopo aver contemplato i suoi riflessi. Un’intera sezione della città di Thal’Zar, la Biblioteca degli Esiti Perduti, fu sigillata quando i suoi scritti cominciarono a riscriversi da soli. I Custodi dell’Equilibrio si divisero: Alcuni volevano distruggerla. Altri intendevano potenziarla per dominare il Multiverso. I più cauti, fondarono un nuovo ordine: i Custodi del Silenzio, il cui compito era osservare senza intervenire. Fu allora che emerse una figura enigmatica: Vangrath, un Altherian giovane ma prodigioso, dotato di empatia straordinaria e di una mente capace di navigare tra livelli di realtà sovrapposti. I Custodi del Silenzio lo selezionarono come Osservatore Primario dell’Arca. Ma l’Arca non lo scelse. Lo riconobbe. Dal primo contatto, l’Arca lo rispecchiò perfettamente. Dove gli altri perdevano sé stessi, Vangrath restava integro. Dove gli altri vedevano orrore, lui vedeva possibilità. Divenne il primo essere a comunicare con l’Arca senza perdersi. O almeno così sembrò.\nLe scritte si interrompono bruscamente, come se qualcosa avesse interrotto la loro stesura.",""),
(129,"Il tempio","Sei davanti alla porta di entrata del tempio, proprio davanti a te noti una figura alta e robusta, sembra essere un guardiano del tempio.","Se non ci hai ancora parlato, forse potresti trovare un'altra alternativa per entrare nel tempio",""); //da connettere con la mappa del tempio


--Cripta
INSERT INTO Casella(id, nome, descrizioneIniziale, descrizioneAggiuntiva, descrizioneAggiornata)
VALUES
(208,"Mini corridoio","Ti trovi in un mini corridoio,più avanti inizi a vedere le varie stanze.","Vai ad ovest per trovarti davanti alle prime due stanze della cripta.",""),
(209,"Le prime stanze","Ti trovi in mezzo alle due stanze della cripta, una davanti ed una dietro di te, sembra che le due stanze siano molto simili tra loro.","Sei all'entrata delle stanze, puoi decidere di entrare in una di esse (vai a [NORD] per entrare nella prima stanza, vai a [SUD] per entrare nella seconda stanza, oppure puoi proseguire nei meandri della cripta andando ad [EST].",""),
(210,"Sanza ninfa","Ti trovi nella seconda stanza della cripta, sembra essere molto antica, al suo interno noti delle scritte sulle pareti che sembrano essere molto interessanti. Puoi osservare la stanza per scoprire cosa c'è scritto.","La ninfa è una creatura mitologica, che si dice abiti le foreste e i boschi, è spesso associata alla natura e alla bellezza. Si dice che le ninfe siano molto legate agli alberi e alle piante, e che parlino una strana lingua non comprensibile agli essere umani. Esse presentano un corpo semi-umano con dei capelli lunghissimi e le orecchie a punta,il colore della loro pelle è un blu marino molto chiaro, mentre i loro occhi sono di un verde smeraldo molto intenso. Esse dimorano nei laghi dei boschi maledetti per aiutare le persone ad uscire dal bosco, questo solo però se si riesce a comunicare con loro e rispondere ad una specifica domanda, quasi come se fosse un gioco.",""),
(211,"Stanza del bosco","Ti trovi nella prima stanza della cripta, sembra essere molto antica, al suo interno noti delle scritte sulle pareti che sembrano essere molto interessanti. Puoi osservare la stanza per scoprire cosa c'è scritto.","Il bosco qui presente si dice sia maledetto e che una volta al suo interno non vi si riesca più ad uscirne. Il bosco nell'antichità era un luogo di pace e tranquillità, abitato da molte crature mitologiche come elfi e ninfe, ma ora a causa del mostro che risiede nel tempio è diventato un luogo di paura e terrore.",""),
(212,"Mini corridoio 2","Hai superato le prime due stanze della cripta, più avanti ci sono le ultime due conviene visitarle.","Se hai visitato tutte le stanze puoi uscire dalla cripta andando sempre ad ovest, altrimenti puoi proseguire verso est per visitare le ultime due stanze.",""),
(213,"Le ultime stanze","Hai raggiunto le ultime due stanze della cripta, come prima ne hai una avanti ed una dietro di te, dovresti vedere che cosa contengono.","Se hai visitato tutte e due le stanze puoi uscire dalla cripta.",""),
(214,"Stanza del triangolo delle bermuda","Sei nella penultima stanza della cripta stavolta però trovi delle pergamene con delle scritte leggibili, fai [OSSERVA] per leggere le pergamene ","Ci sono acque che anche il cielo rifiuta di guardare. Un tratto di mare, nascosto tra tempeste e silenzi, chiamato da molti Triangolo delle Bermuda, ma conosciuto dai marinai più antichi come il Triangolo del Diavolo. Qui le bussole impazziscono. Le stelle si spengono. Le navi scompaiono nel nulla. Al centro di questo triangolo, tra nebbie fitte e correnti innaturali, si dice che cresca un bosco impossibile, i cui alberi affondano le radici direttamente nel mare. Un luogo che non dovrebbe esistere. Nel cuore del bosco si annidi una creatura che non ha nome nei libri degli uomini. Alcuni la chiamano Velgrath, altri la vedono solo nei sogni, pochi tornano a raccontarlo.",""),
(215,"Stanza del villaggio del falegname","Ti trovi nell'ultima stanza della cripta anche qui ci sono delle pergamene, fai [OSSERVA] per leggerne il contenuto.","Ai margini del Bosco Maledetto, nel cuore del Triangolo delle Bermuda, si trovava un piccolo villaggio chiamato Neravel. I suoi abitanti vivevano in equilibrio precario tra mare e foresta, ben sapendo che nessuno doveva entrare tra gli alberi avvolti dalla nebbia. Nel cuore del bosco c’è un tempio, e nel tempio, qualcosa che una volta fu uomo. Così ammonivano gli anziani, quel qualcosa era Vangrath. Una creatura semi-umana, un tempo parte dei Custodi del Silenzio, corrotta dal potere dell’Arca del Vuoto, dimenticata tra le rovine di Thal’Zar. Ora era un essere contorto, legato alla magia del bosco e alla follia delle dimensioni spezzate. Per anni Vangrath restò dormiente, rinchiuso nel tempio sepolto sotto radici e incubi. Ma un giorno, qualcuno — o qualcosa — osò infrangere i sigilli antichi. Le nebbie si fecero più spesse. Gli animali fuggirono. Le notti diventarono troppo silenziose. Poi arrivò la strage. Neravel fu distrutta in una sola notte. Non da fuoco o tempesta, ma da presenze che non lasciavano impronte, da ombre che si muovevano con fame. I pochi superstiti raccontarono di una figura alta, dal volto spezzato, che camminava tra le case sussurrando verità che facevano impazzire. Da allora, nessuno si avvicina più al Bosco Maledetto. Dove sorgeva il villaggio, ora c’è solo una radura vuota e il sussurro costante di un nome che il vento non vuole pronunciare: Vangrath.","");

--Tempio
INSERT INTO Casella(id, nome, descrizioneIniziale, descrizioneAggiuntiva, descrizioneAggiornata)
VALUES